{"ast":null,"code":"import _classCallCheck from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wefed01/Sites/affx/public_html/react/src/pages/Prods/Prod/ProdFull.js\";\nimport React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport Infos from './parts/Infos/';\nimport Form from './parts/Form/';\nimport Boxes from './parts/Boxes/';\nimport Faqs from './parts/Faqs/'; //import Review from './parts/Review'\n\nimport Related from './parts/Related/';\nimport Aside from './parts/Aside';\nimport Modal from 'components/Modal/';\nimport BtnUp from './parts/BtnUp/';\nimport Schema from \"pages/Prods/Prod/parts/Schema\";\nimport { i18nContext } from 'contexts/i18n';\nimport Breadcrumb from 'templates/parts/Breadcrumb/';\nimport { LazyLoadComponent } from 'react-lazy-load-image-component';\nimport { getCategLink } from \"helpers/getPath\";\nimport { fetchCart } from 'state/actions';\nimport { getCookie, setCookie } from \"helpers/cookies\";\n\nvar ProdFull =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProdFull, _Component);\n\n  function ProdFull(props) {\n    var _this;\n\n    _classCallCheck(this, ProdFull);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProdFull).call(this, props));\n\n    _this.preorder = function () {//console.log('preorder')\n    };\n\n    _this.openModalHandler = function () {\n      _this.setState({\n        isShowing: true\n      });\n\n      _this.preorder(); // lancia l'azione di trigger del preorder\n\n    };\n\n    _this.closeModalHandler = function () {\n      _this.setState({\n        isShowing: false\n      });\n    };\n\n    _this.addToCart = function () {\n      var _this$props = _this.props,\n          prod = _this$props.prod,\n          cart = _this$props.cart;\n\n      _this.props.dispatch(fetchCart(prod.id));\n\n      var currCart = getCookie('cart');\n      setCookie('cart', currCart.list);\n      console.log(currCart.list);\n    };\n\n    _this.state = {\n      isShowing: false\n    };\n    return _this;\n  }\n\n  _createClass(ProdFull, [{\n    key: \"render\",\n    value: function render() {\n      var i18n = this.context;\n      var prod = this.props.prod;\n      var categLink = getCategLink(i18n.lang, prod).pathname;\n      var modal = React.createElement(Modal, {\n        prod: prod,\n        show: this.state.isShowing,\n        close: this.closeModalHandler,\n        title: i18n.order_now_cta + ' ' + prod.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(Form, {\n        prod: prod,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }));\n      return React.createElement(\"div\", {\n        className: \"p-prod__full\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.addToCart,\n        className: \"btn btn-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"TEST ADD TO CART\"), modal, React.createElement(Breadcrumb, {\n        pattern: [{\n          name: prod.category_name,\n          link: categLink\n        }],\n        destination: prod.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(Schema, {\n        prod: prod,\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12 col-lg-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(Infos, {\n        prod: prod,\n        openModalHandler: this.openModalHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"btn-go-up-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(BtnUp, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(Boxes, {\n        prod: prod,\n        openModalHandler: this.openModalHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(Faqs, {\n        prod: prod,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(BtnUp, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"col d-none d-lg-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(Aside, {\n        prod: prod,\n        showForm: false,\n        openModalHandler: this.openModalHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }))), React.createElement(LazyLoadComponent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(Related, {\n        prod: prod,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return ProdFull;\n}(Component);\n\nProdFull.contextType = i18nContext;\nProdFull.contextType = i18nContext;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var cart = state.cart;\n  return {\n    cart: cart\n  };\n};\n\nexport default connect(mapStateToProps)(ProdFull);","map":{"version":3,"sources":["/Users/wefed01/Sites/affx/public_html/react/src/pages/Prods/Prod/ProdFull.js"],"names":["React","Component","connect","Infos","Form","Boxes","Faqs","Related","Aside","Modal","BtnUp","Schema","i18nContext","Breadcrumb","LazyLoadComponent","getCategLink","fetchCart","getCookie","setCookie","ProdFull","props","preorder","openModalHandler","setState","isShowing","closeModalHandler","addToCart","prod","cart","dispatch","id","currCart","list","console","log","state","i18n","context","categLink","lang","pathname","modal","order_now_cta","name","category_name","link","contextType","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from \"react-redux\"\nimport Infos from './parts/Infos/'\nimport Form from './parts/Form/'\nimport Boxes from './parts/Boxes/'\nimport Faqs from './parts/Faqs/'\n//import Review from './parts/Review'\nimport Related from './parts/Related/'\nimport Aside from './parts/Aside'\nimport Modal from 'components/Modal/';\nimport BtnUp from './parts/BtnUp/'\nimport Schema from \"pages/Prods/Prod/parts/Schema\"\nimport {i18nContext} from 'contexts/i18n';\nimport Breadcrumb from 'templates/parts/Breadcrumb/'\nimport { LazyLoadComponent } from 'react-lazy-load-image-component';\nimport { getCategLink } from \"helpers/getPath\"\nimport { fetchCart } from 'state/actions'\n\n\nimport { getCookie, setCookie } from \"helpers/cookies\"\n\n\nclass ProdFull extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isShowing: false\n    }\n  }\n  preorder = () => {\n    //console.log('preorder')\n  }\n  openModalHandler = () => {\n    this.setState({ isShowing: true });\n    this.preorder(); // lancia l'azione di trigger del preorder\n  }\n  closeModalHandler = () => {\n    this.setState({ isShowing: false });\n  }\n  addToCart = () => {\n    const { prod, cart } = this.props\n    this.props.dispatch( fetchCart(prod.id) )\n\n\n    let currCart = getCookie('cart')\n    setCookie('cart', currCart.list )\n\n    console.log( currCart.list )\n\n  }\n  static contextType = i18nContext;\n  render(){\n  let i18n = this.context;\n  const { prod } = this.props\n  let categLink = getCategLink(i18n.lang,prod).pathname\n  const modal = <Modal prod={prod}\n                     show={this.state.isShowing}\n                     close={this.closeModalHandler}\n                     title={i18n.order_now_cta+' '+prod.name}>\n                    <Form prod={prod} />\n                </Modal>\n  return (\n        <div className=\"p-prod__full\">\n\n        <button onClick={this.addToCart} className=\"btn btn-success\">TEST ADD TO CART</button>\n\n          {modal}\n          <Breadcrumb pattern={[{name:prod.category_name,link:categLink}]} destination={prod.name} />\n          <Schema prod={prod} className=\"row\">\n            <div className=\"col-12 col-lg-8\">\n              <Infos prod={prod} openModalHandler={this.openModalHandler} />\n              <div className=\"btn-go-up-wrapper\">\n                <BtnUp />\n                <Boxes prod={prod} openModalHandler={this.openModalHandler} />\n                <Faqs prod={prod} />\n                <BtnUp />\n              </div>\n            </div>\n            <div className=\"col d-none d-lg-block\">\n              <Aside prod={prod} showForm={false} openModalHandler={this.openModalHandler} />\n            </div>\n          </Schema>\n          <LazyLoadComponent>\n            <hr />\n            <Related prod={prod} />\n          </LazyLoadComponent>\n        </div>\n      )\n    }\n}\nProdFull.contextType = i18nContext\n\nconst mapStateToProps = (state) => {\n  const { cart } = state\n  return {\n    cart\n  }\n}\nexport default connect(mapStateToProps)( ProdFull );\n"]},"metadata":{},"sourceType":"module"}