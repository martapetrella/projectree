{"ast":null,"code":"import _classCallCheck from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wefed01/Sites/affx/public_html/react/src/templates/index.js\";\nimport React from 'react';\nimport { connect } from \"react-redux\";\nimport Header from './parts/Header/';\nimport Footer from './parts/Footer/';\nimport { f_ifexist } from \"helpers/formatter\";\nimport { cookiesInit } from \"helpers/cookies\";\nimport { setCookie } from \"helpers/cookies\"; // DECORATOR\n// ES: https://benmccormick.org/2019/02/11/reusable-react\n\nvar withTemplate = function withTemplate(WrappedComponent) {\n  var ComponentWithCounter =\n  /*#__PURE__*/\n  function (_React$Component) {\n    _inherits(ComponentWithCounter, _React$Component);\n\n    function ComponentWithCounter() {\n      _classCallCheck(this, ComponentWithCounter);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(ComponentWithCounter).apply(this, arguments));\n    }\n\n    _createClass(ComponentWithCounter, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        // porto in alto lo scroll ad ogni cambio pagina\n        window.scrollTo(0, 0);\n        cookiesInit(this.props);\n      }\n    }, {\n      key: \"componentWillReceiveProps\",\n      value: function componentWillReceiveProps(nextProps) {\n        // nel momento in cui lo stato viene aggiornato,\n        // vai ad aggiornare anche il cookie\n        setCookie('cart', nextProps.cart);\n        setCookie('user', nextProps.user);\n        console.log(\"'setCookie('user', nextProps.user )'\", nextProps.user);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props = this.props,\n            fullwidth = _this$props.fullwidth,\n            className = _this$props.className;\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }, React.createElement(\"section\", {\n          className: \"t-template \" + (!!fullwidth ? ' t-template--fullwidth' : '') + f_ifexist(className),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        }, React.createElement(Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }), !fullwidth, React.createElement(\"div\", {\n          className: \"main-container \" + (!fullwidth ? 'container px-3 pt-4 pb-3' : 'px-0'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, React.createElement(WrappedComponent, Object.assign({}, this.props, this.callbacks, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }))), React.createElement(\"hr\", {\n          className: \"mt-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }), React.createElement(Footer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        })));\n      }\n    }]);\n\n    return ComponentWithCounter;\n  }(React.Component); //return ComponentWithCounter;\n\n\n  var mapStateToProps = function mapStateToProps(state) {\n    var cart = state.cart,\n        user = state.user;\n    return {\n      cart: cart,\n      user: user\n    };\n  };\n\n  return connect(mapStateToProps)(ComponentWithCounter);\n};\n\nexport default withTemplate;","map":{"version":3,"sources":["/Users/wefed01/Sites/affx/public_html/react/src/templates/index.js"],"names":["React","connect","Header","Footer","f_ifexist","cookiesInit","setCookie","withTemplate","WrappedComponent","ComponentWithCounter","window","scrollTo","props","nextProps","cart","user","console","log","fullwidth","className","callbacks","Component","mapStateToProps","state"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SAASC,SAAT,QAA0B,mBAA1B;AACA,SAASC,WAAT,QAA4B,iBAA5B;AAGA,SAAUC,SAAV,QAA2B,iBAA3B,C,CAIA;AACA;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAAC,gBAAgB,EAAI;AAAA,MAChCC,oBADgC;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,0CAEhB;AAClB;AACAC,QAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACAN,QAAAA,WAAW,CAAC,KAAKO,KAAN,CAAX;AACD;AANmC;AAAA;AAAA,gDAOVC,SAPU,EAOC;AACnC;AACA;AACAP,QAAAA,SAAS,CAAC,MAAD,EAASO,SAAS,CAACC,IAAnB,CAAT;AACAR,QAAAA,SAAS,CAAC,MAAD,EAASO,SAAS,CAACE,IAAnB,CAAT;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAa,sCAAb,EAAoDJ,SAAS,CAACE,IAA9D;AACD;AAbmC;AAAA;AAAA,+BAc3B;AAAA,0BAC0B,KAAKH,KAD/B;AAAA,YACCM,SADD,eACCA,SADD;AAAA,YACYC,SADZ,eACYA,SADZ;AAEL,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAS,UAAA,SAAS,EAAE,iBAAgB,CAAC,CAACD,SAAF,GAAc,wBAAd,GAAyC,EAAzD,IAA8Dd,SAAS,CAACe,SAAD,CAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,EAEG,CAACD,SAFJ,EAGE;AAAK,UAAA,SAAS,EAAE,qBAAoB,CAACA,SAAD,GAAa,0BAAb,GAA0C,MAA9D,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEE,oBAAC,gBAAD,oBAAsB,KAAKN,KAA3B,EAAsC,KAAKQ,SAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFF,CAHF,EAOE;AAAI,UAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAPF,EAQE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UARF,CADF,CADF;AAcH;AA9BmC;;AAAA;AAAA,IACHpB,KAAK,CAACqB,SADH,GAgCvC;;;AACA,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAAA,QACzBT,IADyB,GACVS,KADU,CACzBT,IADyB;AAAA,QACnBC,IADmB,GACVQ,KADU,CACnBR,IADmB;AAEjC,WAAO;AACLD,MAAAA,IAAI,EAAJA,IADK;AACCC,MAAAA,IAAI,EAAJA;AADD,KAAP;AAGD,GALD;;AAMA,SAAOd,OAAO,CAACqB,eAAD,CAAP,CAA0Bb,oBAA1B,CAAP;AAED,CAzCD;;AA2CA,eAAeF,YAAf","sourcesContent":["import React from 'react'\nimport { connect } from \"react-redux\"\nimport Header from './parts/Header/'\nimport Footer from './parts/Footer/'\nimport { f_ifexist } from \"helpers/formatter\"\nimport { cookiesInit } from \"helpers/cookies\"\n\n\nimport {  setCookie } from \"helpers/cookies\"\n\n\n\n// DECORATOR\n// ES: https://benmccormick.org/2019/02/11/reusable-react\n\nconst withTemplate = WrappedComponent => {\n   class ComponentWithCounter extends React.Component {\n     componentDidMount() {\n       // porto in alto lo scroll ad ogni cambio pagina\n       window.scrollTo(0, 0);\n       cookiesInit(this.props)\n     }\n     componentWillReceiveProps(nextProps) {\n       // nel momento in cui lo stato viene aggiornato,\n       // vai ad aggiornare anche il cookie\n       setCookie('cart', nextProps.cart )\n       setCookie('user', nextProps.user )\n       console.log( \"'setCookie('user', nextProps.user )'\",nextProps.user )\n     }\n     render() {\n       const { fullwidth, className } = this.props\n         return (\n           <div>\n             <section className={\"t-template \"+( !!fullwidth ? ' t-template--fullwidth' : '' )+f_ifexist(className)}>\n               <Header />\n               {!fullwidth}\n               <div className={\"main-container \"+( !fullwidth ? 'container px-3 pt-4 pb-3' : 'px-0' )}>\n                 {/*this.props.children*/}\n                 <WrappedComponent {...this.props} {...this.callbacks} />\n               </div>\n               <hr className=\"mt-3\" />\n               <Footer />\n             </section>\n          </div>\n         )\n     }\n  }\n  //return ComponentWithCounter;\n  const mapStateToProps = (state) => {\n    const { cart, user } = state\n    return {\n      cart, user\n    }\n  }\n  return connect(mapStateToProps)( ComponentWithCounter );\n\n};\n\nexport default withTemplate\n"]},"metadata":{},"sourceType":"module"}