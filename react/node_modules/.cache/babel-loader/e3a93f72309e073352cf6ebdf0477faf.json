{"ast":null,"code":"import _objectSpread from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wefed01/Sites/affx/public_html/react/src/components/Image/index.js\";\nimport './style.scss';\nimport React, { Component } from 'react';\nimport Link from \"components/Link/\";\nimport { LazyLoadImage, trackWindowScroll } from 'react-lazy-load-image-component'; // PRIVATES (non esportati)\n\nvar TagImg =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TagImg, _Component);\n\n  function TagImg() {\n    _classCallCheck(this, TagImg);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TagImg).apply(this, arguments));\n  }\n\n  _createClass(TagImg, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          src = _this$props.src,\n          alt = _this$props.alt,\n          className = _this$props.className,\n          itemProp = _this$props.itemProp;\n      return React.createElement(LazyLoadImage, {\n        src: src,\n        alt: alt,\n        className: \"c-image c-image--lazyed c-image--tag img-fluid \" + className,\n        itemProp: itemProp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return TagImg;\n}(Component);\n\nvar BkgImg =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(BkgImg, _Component2);\n\n  function BkgImg() {\n    _classCallCheck(this, BkgImg);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(BkgImg).apply(this, arguments));\n  }\n\n  _createClass(BkgImg, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          src = _this$props2.src,\n          alt = _this$props2.alt,\n          className = _this$props2.className,\n          bkgsize = _this$props2.bkgsize,\n          ratio = _this$props2.ratio,\n          itemProp = _this$props2.itemProp; // calcolo il ratio (se presente la prop). Usare frazioni. (es: 2/3, 4/5...)\n\n      var n = ratio && ratio.split(\"/\");\n      var ratioPercent = n && !isNaN(n[0]) && !isNaN(n[1]) ? n[0] / n[1] * 100 + '%' : false;\n      var imgProps = {\n        itemProp: itemProp,\n        className: 'c-image c-image--bkg ' + className,\n        alt: alt,\n        style: _objectSpread({}, this.props.style, {\n          backgroundImage: \"url(\" + src + \")\",\n          backgroundSize: bkgsize ? bkgsize : 'contain',\n          paddingTop: ratioPercent ? ratioPercent : '100%'\n        })\n      };\n      return React.createElement(\"div\", Object.assign({}, imgProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return BkgImg;\n}(Component); // PUBLIC\n\n\nvar Image =\n/*#__PURE__*/\nfunction (_Component3) {\n  _inherits(Image, _Component3);\n\n  function Image() {\n    _classCallCheck(this, Image);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Image).apply(this, arguments));\n  }\n\n  _createClass(Image, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          src = _this$props3.src,\n          alt = _this$props3.alt,\n          imgStyle = _this$props3.imgStyle,\n          link = _this$props3.link,\n          linkStyle = _this$props3.linkStyle,\n          useBkg = _this$props3.useBkg,\n          bkgsize = _this$props3.bkgsize,\n          ratio = _this$props3.ratio,\n          itemProp = _this$props3.itemProp;\n      console.log('itemProp:', itemProp);\n      var imgProps = {\n        itemProp: itemProp,\n        src: src,\n        alt: !!alt ? alt : '',\n        className: 'Image ' + (!!imgStyle ? imgStyle : '') // valuto se stampare l'immagine in tag o in background\n\n      };\n      var imageObj = !!useBkg ? React.createElement(BkgImg, Object.assign({}, imgProps, {\n        bkgsize: bkgsize,\n        ratio: ratio,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      })) : React.createElement(TagImg, Object.assign({}, imgProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }));\n      var linkObj = link && React.createElement(Link, {\n        to: link,\n        className: \"Link \" + (!!linkStyle ? linkStyle : ''),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \" \", imageObj, \" \"); // valuto se stampare l'immagine o il link che wrappa l'immagine\n\n      var result = linkObj ? linkObj : imageObj;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, result);\n    }\n  }]);\n\n  return Image;\n}(Component);\n\nexport default trackWindowScroll(Image);","map":{"version":3,"sources":["/Users/wefed01/Sites/affx/public_html/react/src/components/Image/index.js"],"names":["React","Component","Link","LazyLoadImage","trackWindowScroll","TagImg","props","src","alt","className","itemProp","BkgImg","bkgsize","ratio","n","split","ratioPercent","isNaN","imgProps","style","backgroundImage","backgroundSize","paddingTop","Image","imgStyle","link","linkStyle","useBkg","console","log","imageObj","linkObj","result"],"mappings":"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","sourcesContent":["import './style.scss';\nimport React, { Component } from 'react'\nimport Link from \"components/Link/\";\n\nimport { LazyLoadImage, trackWindowScroll } from 'react-lazy-load-image-component';\n\n// PRIVATES (non esportati)\n\nclass TagImg extends Component {\n  render(){\n    const { src, alt, className, itemProp } = this.props\n    return (\n      <LazyLoadImage src={src} alt={alt} className={\"c-image c-image--lazyed c-image--tag img-fluid \"+className} itemProp={itemProp} />\n    )\n  }\n}\n\nclass BkgImg extends Component {\n  render(){\n    let { src, alt, className, bkgsize, ratio, itemProp } = this.props\n    // calcolo il ratio (se presente la prop). Usare frazioni. (es: 2/3, 4/5...)\n    let n = ratio && ratio.split(\"/\");\n    let ratioPercent = ( n && ! isNaN(n[0]) && ! isNaN(n[1]) ) ? ((n[0]/n[1])*100)+'%' : false\n    let imgProps = {\n      itemProp,\n      className: 'c-image c-image--bkg '+className,\n      alt,\n      style: {\n        ...this.props.style,\n        backgroundImage: \"url(\"+src+\")\",\n        backgroundSize: bkgsize ? bkgsize : 'contain',\n        paddingTop : ratioPercent ? ratioPercent : '100%'\n      }\n    }\n    return (\n      <div {...imgProps}></div>\n    )\n  }\n}\n\n// PUBLIC\n\nclass Image extends Component {\n  render() {\n    const { src, alt, imgStyle, link, linkStyle, useBkg, bkgsize, ratio, itemProp } = this.props\n\n    console.log('itemProp:',itemProp);\n\n    let imgProps = {\n      itemProp,\n      src,\n      alt: (!!alt ? alt : ''),\n      className: 'Image '+(!!imgStyle ? imgStyle : ''),\n    }\n    // valuto se stampare l'immagine in tag o in background\n    let imageObj = (!!useBkg) ? <BkgImg {...imgProps} bkgsize={bkgsize} ratio={ratio} />\n                              : <TagImg {...imgProps} />\n\n    let linkObj = link && <Link to={link} className={\"Link \"+(!!linkStyle ? linkStyle : '')}> {imageObj} </Link>\n    // valuto se stampare l'immagine o il link che wrappa l'immagine\n    let result = linkObj ? linkObj : imageObj\n    return (\n      <React.Fragment>\n        {result}\n      </React.Fragment>\n    )\n  }\n}\n\nexport default trackWindowScroll(Image);\n"]},"metadata":{},"sourceType":"module"}