{"ast":null,"code":"// modifiche e controlli su oggetti e jsons\nexport function parseIfJsonString(value) {\n  return IsJsonString(value) ? JSON.parse(value) : false;\n}\nexport function IsJsonString(str) {\n  try {\n    JSON.parse(str);\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n}\nexport function objIsEmpty(o) {\n  var obj = parseIfJsonString(o); //se ho una stringa json la converto se no dà false.\n\n  if (typeof obj !== 'object') {\n    console.error('objIsEmpty: ' + obj + ' is not an object but ' + typeof obj);\n    return false;\n  }\n\n  for (var prop in obj) {\n    if (obj.hasOwnProperty(prop)) {\n      return false;\n    }\n  }\n\n  return JSON.stringify(obj) === JSON.stringify({}) || JSON.stringify(obj) === undefined;\n}\nexport function indexProdInList(prod, list) {\n  // metto a -1 perchè per me l'indice a zero è un valore true\n  var prodExist = -1;\n\n  if (prod && prod.id && list && list.length > 0) {\n    // ciclo sulla lista prodotti  nello stato e controllo se c'è il prod corrente\n    for (var i = 0; i < list.length; i++) {\n      if (list[i].id === prod.id) {\n        prodExist = i;\n      }\n    }\n  } // quindi se è false restituisce -1, se true l'indice del prodotto.\n\n\n  return prodExist;\n}","map":{"version":3,"sources":["/Users/wefed01/Sites/affx/public_html/react/src/helpers/object_and_json.js"],"names":["parseIfJsonString","value","IsJsonString","JSON","parse","str","e","objIsEmpty","o","obj","console","error","prop","hasOwnProperty","stringify","undefined","indexProdInList","prod","list","prodExist","id","length","i"],"mappings":"AAAA;AAEA,OAAO,SAASA,iBAAT,CAA2BC,KAA3B,EAAkC;AACrC,SAAOC,YAAY,CAACD,KAAD,CAAZ,GAAsBE,IAAI,CAACC,KAAL,CAAYH,KAAZ,CAAtB,GAA4C,KAAnD;AACH;AAED,OAAO,SAASC,YAAT,CAAsBG,GAAtB,EAA2B;AAC9B,MAAI;AACAF,IAAAA,IAAI,CAACC,KAAL,CAAWC,GAAX;AACH,GAFD,CAEE,OAAOC,CAAP,EAAU;AACR,WAAO,KAAP;AACH;;AACD,SAAO,IAAP;AACH;AAED,OAAO,SAASC,UAAT,CAAoBC,CAApB,EAAuB;AAC5B,MAAIC,GAAG,GAAGT,iBAAiB,CAACQ,CAAD,CAA3B,CAD4B,CACG;;AAC/B,MAAI,OAAOC,GAAP,KAAe,QAAnB,EAA8B;AAC5BC,IAAAA,OAAO,CAACC,KAAR,CAAe,iBAAeF,GAAf,GAAmB,wBAAnB,GAA6C,OAAOA,GAAnE;AACA,WAAO,KAAP;AACD;;AACD,OAAI,IAAIG,IAAR,IAAgBH,GAAhB,EAAqB;AACnB,QAAGA,GAAG,CAACI,cAAJ,CAAmBD,IAAnB,CAAH,EAA6B;AAC3B,aAAO,KAAP;AACD;AACF;;AACD,SAAOT,IAAI,CAACW,SAAL,CAAeL,GAAf,MAAwBN,IAAI,CAACW,SAAL,CAAe,EAAf,CAAxB,IAA8CX,IAAI,CAACW,SAAL,CAAeL,GAAf,MAAwBM,SAA7E;AACD;AAED,OAAO,SAASC,eAAT,CAAyBC,IAAzB,EAA8BC,IAA9B,EAAoC;AACzC;AACA,MAAIC,SAAS,GAAG,CAAC,CAAjB;;AACA,MAAIF,IAAI,IAAIA,IAAI,CAACG,EAAb,IAAmBF,IAAnB,IAA2BA,IAAI,CAACG,MAAL,GAAc,CAA7C,EAAiD;AAC/C;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,IAAI,CAACG,MAAzB,EAAiCC,CAAC,EAAlC,EAAsC;AACpC,UAAIJ,IAAI,CAACI,CAAD,CAAJ,CAAQF,EAAR,KAAeH,IAAI,CAACG,EAAxB,EAA6B;AAC3BD,QAAAA,SAAS,GAAGG,CAAZ;AACD;AACF;AACF,GAVwC,CAWzC;;;AACA,SAAOH,SAAP;AACD","sourcesContent":["// modifiche e controlli su oggetti e jsons\n\nexport function parseIfJsonString(value) {\n    return IsJsonString(value) ? JSON.parse( value ) : false\n}\n\nexport function IsJsonString(str) {\n    try {\n        JSON.parse(str);\n    } catch (e) {\n        return false;\n    }\n    return true;\n}\n\nexport function objIsEmpty(o) {\n  let obj = parseIfJsonString(o) //se ho una stringa json la converto se no dà false.\n  if( typeof obj !== 'object' ) {\n    console.error( 'objIsEmpty: '+obj+' is not an object but '+(typeof obj) );\n    return false\n  }\n  for(var prop in obj) {\n    if(obj.hasOwnProperty(prop)) {\n      return false;\n    }\n  }\n  return JSON.stringify(obj) === JSON.stringify({}) || JSON.stringify(obj) === undefined\n}\n\nexport function indexProdInList(prod,list) {\n  // metto a -1 perchè per me l'indice a zero è un valore true\n  let prodExist = -1;\n  if( prod && prod.id && list && list.length > 0 ) {\n    // ciclo sulla lista prodotti  nello stato e controllo se c'è il prod corrente\n    for (let i = 0; i < list.length; i++) {\n      if( list[i].id === prod.id ) {\n        prodExist = i\n      }\n    }\n  }\n  // quindi se è false restituisce -1, se true l'indice del prodotto.\n  return prodExist;\n}\n"]},"metadata":{},"sourceType":"module"}