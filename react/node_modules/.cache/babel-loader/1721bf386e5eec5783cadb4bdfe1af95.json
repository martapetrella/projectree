{"ast":null,"code":"import axios from 'axios';\nvar REACT_APP_API = process.env.REACT_APP_API;\nexport function setLoading(status) {\n  return {\n    type: 'SET_LOADING',\n    status: status\n  };\n}\nexport function setLang(lang) {\n  return {\n    type: 'SET_LANG',\n    payload: {\n      lang: lang\n    }\n  };\n}\nexport function fetchProds(lang, cat) {\n  var langQuery = lang !== undefined && lang !== '' ? '&lang=' + lang : '';\n  var catQuery = cat !== undefined && cat !== '' ? '&cat=' + cat : '';\n  var apiUrl = REACT_APP_API + 'product/read.php?' + langQuery + catQuery;\n  return function (dispatch, getState) {\n    axios.get(apiUrl).then(function (resp) {\n      dispatch({\n        type: 'SET_PROJECT',\n        payload: {\n          list: resp.data.records,\n          error: resp.data.error,\n          loading: false\n        }\n      });\n    }, function (error) {\n      dispatch({\n        type: 'SET_PROJECT',\n        payload: {\n          list: [],\n          error: 'error',\n          loading: false\n        }\n      });\n    });\n  };\n}","map":{"version":3,"sources":["/Users/wefed01/Sites/projectree/react/src/state/actions.js"],"names":["axios","REACT_APP_API","process","env","setLoading","status","type","setLang","lang","payload","fetchProds","cat","langQuery","undefined","catQuery","apiUrl","dispatch","getState","get","then","resp","list","data","records","error","loading"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;IAEQC,a,GAAkBC,OAAO,CAACC,G,CAA1BF,a;AAER,OAAO,SAASG,UAAT,CAAoBC,MAApB,EAA4B;AAC/B,SAAO;AACLC,IAAAA,IAAI,EAAE,aADD;AAELD,IAAAA,MAAM,EAANA;AAFK,GAAP;AAIH;AAED,OAAO,SAASE,OAAT,CAAiBC,IAAjB,EAAuB;AAC5B,SAAO;AACLF,IAAAA,IAAI,EAAE,UADD;AAELG,IAAAA,OAAO,EAAE;AACPD,MAAAA,IAAI,EAAJA;AADO;AAFJ,GAAP;AAMD;AAED,OAAO,SAASE,UAAT,CAAoBF,IAApB,EAAyBG,GAAzB,EAA8B;AACnC,MAAMC,SAAS,GAAKJ,IAAI,KAAKK,SAAT,IAAsBL,IAAI,KAAK,EAAjC,GAAwC,WAASA,IAAjD,GAAwD,EAA1E;AACA,MAAMM,QAAQ,GAAKH,GAAG,KAAKE,SAAR,IAAqBF,GAAG,KAAK,EAA/B,GAAsC,UAAQA,GAA9C,GAAoD,EAArE;AACA,MAAMI,MAAM,GAAGd,aAAa,GAAC,mBAAd,GAAkCW,SAAlC,GAA4CE,QAA3D;AACA,SAAO,UAACE,QAAD,EAAWC,QAAX,EAAwB;AAC7BjB,IAAAA,KAAK,CAACkB,GAAN,CAAUH,MAAV,EAAkBI,IAAlB,CAAuB,UAACC,IAAD,EAAU;AAC7BJ,MAAAA,QAAQ,CAAC;AACLV,QAAAA,IAAI,EAAE,aADD;AAELG,QAAAA,OAAO,EAAE;AACPY,UAAAA,IAAI,EAAED,IAAI,CAACE,IAAL,CAAUC,OADT;AAEPC,UAAAA,KAAK,EAAEJ,IAAI,CAACE,IAAL,CAAUE,KAFV;AAGPC,UAAAA,OAAO,EAAE;AAHF;AAFJ,OAAD,CAAR;AAQH,KATD,EASG,UAAAD,KAAK,EAAI;AACVR,MAAAA,QAAQ,CAAC;AACLV,QAAAA,IAAI,EAAE,aADD;AAELG,QAAAA,OAAO,EAAE;AACLY,UAAAA,IAAI,EAAE,EADD;AAELG,UAAAA,KAAK,EAAE,OAFF;AAGLC,UAAAA,OAAO,EAAE;AAHJ;AAFJ,OAAD,CAAR;AAQD,KAlBD;AAmBD,GApBD;AAqBD","sourcesContent":["import axios from 'axios'\n\nconst { REACT_APP_API } = process.env\n\nexport function setLoading(status) {\n    return {\n      type: 'SET_LOADING',\n      status\n    }\n}\n\nexport function setLang(lang) {\n  return {\n    type: 'SET_LANG',\n    payload: {\n      lang\n    }\n  }\n}\n\nexport function fetchProds(lang,cat) {\n  const langQuery = ( lang !== undefined && lang !== '' ) ? '&lang='+lang : ''\n  const catQuery = ( cat !== undefined && cat !== '' ) ? '&cat='+cat : ''\n  const apiUrl = REACT_APP_API+'product/read.php?'+langQuery+catQuery;\n  return (dispatch, getState) => {\n    axios.get(apiUrl).then((resp) => {\n        dispatch({\n            type: 'SET_PROJECT',\n            payload: {\n              list: resp.data.records,\n              error: resp.data.error,\n              loading: false\n            }\n        });\n    }, error => {\n      dispatch({\n          type: 'SET_PROJECT',\n          payload: {\n              list: [],\n              error: 'error',\n              loading: false\n          }\n      });\n    })\n  };\n}\n"]},"metadata":{},"sourceType":"module"}