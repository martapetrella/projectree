{"ast":null,"code":"import _objectSpread from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wefed01/Sites/affx/public_html/react/src/components/Image/index.js\";\nimport './style.scss';\nimport React, { Component } from 'react';\nimport Link from \"components/Link/\";\nimport { LazyLoadImage, trackWindowScroll } from 'react-lazy-load-image-component'; // PRIVATES (non esportati)\n\nvar TagImg =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TagImg, _Component);\n\n  function TagImg() {\n    _classCallCheck(this, TagImg);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(TagImg).apply(this, arguments));\n  }\n\n  _createClass(TagImg, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          src = _this$props.src,\n          alt = _this$props.alt,\n          className = _this$props.className,\n          notLazy = _this$props.notLazy;\n      var imgStyle = \"c-image c-image--tag img-fluid \" + className;\n      var img = notLazy ? React.createElement(\"img\", {\n        className: imgStyle,\n        alt: alt,\n        src: src,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 12\n        },\n        __self: this\n      }) : React.createElement(LazyLoadImage, {\n        className: imgStyle + \" c-image--lazyed\",\n        alt: alt,\n        src: src,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13\n        },\n        __self: this\n      });\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15\n        },\n        __self: this\n      }, img);\n    }\n  }]);\n\n  return TagImg;\n}(Component);\n\nvar BkgImg =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(BkgImg, _Component2);\n\n  function BkgImg() {\n    _classCallCheck(this, BkgImg);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(BkgImg).apply(this, arguments));\n  }\n\n  _createClass(BkgImg, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          src = _this$props2.src,\n          alt = _this$props2.alt,\n          className = _this$props2.className,\n          bkgsize = _this$props2.bkgsize,\n          ratio = _this$props2.ratio; // calcolo il ratio (se presente la prop). Usare frazioni. (es: 2/3, 4/5...)\n\n      var n = ratio && ratio.split(\"/\");\n      var ratioPercent = n && !isNaN(n[0]) && !isNaN(n[1]) ? n[0] / n[1] * 100 + '%' : false;\n      var imgProps = {\n        alt: alt,\n        className: 'c-image c-image--bkg ' + className,\n        style: _objectSpread({}, this.props.style, {\n          backgroundImage: \"url(\" + src + \")\",\n          backgroundSize: bkgsize ? bkgsize : 'contain',\n          paddingTop: ratioPercent ? ratioPercent : '100%'\n        })\n      };\n      return React.createElement(\"div\", Object.assign({}, imgProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return BkgImg;\n}(Component); // PUBLIC\n\n\nvar Image =\n/*#__PURE__*/\nfunction (_Component3) {\n  _inherits(Image, _Component3);\n\n  function Image() {\n    _classCallCheck(this, Image);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Image).apply(this, arguments));\n  }\n\n  _createClass(Image, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          src = _this$props3.src,\n          alt = _this$props3.alt,\n          imgStyle = _this$props3.imgStyle,\n          link = _this$props3.link,\n          wrapperStyle = _this$props3.wrapperStyle,\n          useBkg = _this$props3.useBkg,\n          bkgsize = _this$props3.bkgsize,\n          ratio = _this$props3.ratio,\n          notLazy = _this$props3.notLazy;\n      var imgProps = {\n        src: src,\n        alt: !!alt ? alt : '',\n        className: 'Image ' + (!!imgStyle ? imgStyle : '')\n      };\n      var wrapperStyle_f = !!wrapperStyle ? wrapperStyle : ''; // valuto se stampare l'immagine in tag o in background\n\n      var imageObj = !!useBkg ? React.createElement(BkgImg, Object.assign({}, imgProps, {\n        bkgsize: bkgsize,\n        ratio: ratio,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      })) : React.createElement(TagImg, Object.assign({}, imgProps, {\n        notLazy: notLazy,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }));\n      var result = link ? React.createElement(Link, {\n        to: link,\n        className: \"Link \" + wrapperStyle_f,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \" \", imageObj, \" \") : React.createElement(\"div\", {\n        className: wrapperStyle_f,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \" \", imageObj, \" \"); // valuto se stampare l'immagine o il link che wrappa l'immagine\n\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, result);\n    }\n  }]);\n\n  return Image;\n}(Component);\n\nexport default trackWindowScroll(Image);","map":{"version":3,"sources":["/Users/wefed01/Sites/affx/public_html/react/src/components/Image/index.js"],"names":["React","Component","Link","LazyLoadImage","trackWindowScroll","TagImg","props","src","alt","className","notLazy","imgStyle","img","BkgImg","bkgsize","ratio","n","split","ratioPercent","isNaN","imgProps","style","backgroundImage","backgroundSize","paddingTop","Image","link","wrapperStyle","useBkg","wrapperStyle_f","imageObj","result"],"mappings":"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","sourcesContent":["import './style.scss';\nimport React, { Component } from 'react'\nimport Link from \"components/Link/\";\nimport { LazyLoadImage, trackWindowScroll } from 'react-lazy-load-image-component';\n\n// PRIVATES (non esportati)\n\nclass TagImg extends Component {\n  render(){\n    const { src, alt, className, notLazy } = this.props\n    const imgStyle = \"c-image c-image--tag img-fluid \"+className\n    const img = notLazy ? <img className={imgStyle} alt={alt} src={src} />\n                        : <LazyLoadImage className={imgStyle+\" c-image--lazyed\"} alt={alt} src={src} />\n    return (\n      <React.Fragment>{img}</React.Fragment>\n    )\n  }\n}\n\nclass BkgImg extends Component {\n  render(){\n    let { src, alt, className, bkgsize, ratio } = this.props\n    // calcolo il ratio (se presente la prop). Usare frazioni. (es: 2/3, 4/5...)\n    let n = ratio && ratio.split(\"/\");\n    let ratioPercent = ( n && ! isNaN(n[0]) && ! isNaN(n[1]) ) ? ((n[0]/n[1])*100)+'%' : false\n    let imgProps = {\n      alt,\n      className: 'c-image c-image--bkg '+className,\n      style: {\n        ...this.props.style,\n        backgroundImage: \"url(\"+src+\")\",\n        backgroundSize: bkgsize ? bkgsize : 'contain',\n        paddingTop : ratioPercent ? ratioPercent : '100%'\n      }\n    }\n    return (\n      <div {...imgProps}></div>\n    )\n  }\n}\n\n// PUBLIC\n\nclass Image extends Component {\n  render() {\n    const { src, alt, imgStyle, link, wrapperStyle, useBkg, bkgsize, ratio, notLazy } = this.props\n    let imgProps = {\n      src,\n      alt: (!!alt ? alt : ''),\n      className: 'Image '+(!!imgStyle ? imgStyle : ''),\n    }\n    const wrapperStyle_f = !!wrapperStyle ? wrapperStyle : ''\n    // valuto se stampare l'immagine in tag o in background\n    let imageObj = (!!useBkg) ? <BkgImg {...imgProps} bkgsize={bkgsize} ratio={ratio} />\n                              : <TagImg {...imgProps} notLazy={notLazy} />\n\n    let result = link ? <Link to={link} className={\"Link \"+wrapperStyle_f}> {imageObj} </Link>\n                      : <div className={wrapperStyle_f}> {imageObj} </div>\n    // valuto se stampare l'immagine o il link che wrappa l'immagine\n    return (\n      <React.Fragment>\n        {result}\n      </React.Fragment>\n    )\n  }\n}\n\nexport default trackWindowScroll(Image);\n"]},"metadata":{},"sourceType":"module"}