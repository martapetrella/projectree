{"ast":null,"code":"import _toConsumableArray from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nexport default function cart(state, action) {\n  switch (action.type) {\n    case 'SET_CART':\n      return _objectSpread({}, state, {\n        list: action.payload.list\n      });\n\n    case 'UPDATE_CART':\n      //let prod = JSON.stringify(action.payload.list)\n      //let prod = action.payload.list.id //action.payload.list.id\n      //JSON.stringify(action.payload.list); //action.payload.list.id\n      var p = action.payload.list;\n      var prod = {\n        id: p.id,\n        network: p.network,\n        code: p.code,\n        name: p.name,\n        slug: p.slug,\n        lang: p.lang,\n        country: p.country,\n        category_id: p.category_id,\n        category_name: p.category_name,\n        price: p.price,\n        oldprice: p.oldprice\n      };\n      console.log(typeof prod, escape(prod)); // https://stackoverflow.com/questions/41364383/remove-duplicates-form-an-array/41364495\n\n      return _objectSpread({}, state, {\n        list: state.list ? _toConsumableArray(new Set([].concat(_toConsumableArray(state.list), [prod]).map(function (a) {\n          return a;\n        }))) : [prod]\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/wefed01/Sites/affx/public_html/react/src/state/reducers/cart.js"],"names":["cart","state","action","type","list","payload","p","prod","id","network","code","name","slug","lang","country","category_id","category_name","price","oldprice","console","log","escape","Set","map","a"],"mappings":";;AAAA,eAAe,SAASA,IAAT,CAAcC,KAAd,EAAqBC,MAArB,EAA6B;AACxC,UAAQA,MAAM,CAACC,IAAf;AACI,SAAK,UAAL;AACI,+BACOF,KADP;AAEIG,QAAAA,IAAI,EAAGF,MAAM,CAACG,OAAP,CAAeD;AAF1B;;AAIJ,SAAK,aAAL;AAEE;AACA;AAEA;AAEA,UAAIE,CAAC,GAAGJ,MAAM,CAACG,OAAP,CAAeD,IAAvB;AACA,UAAIG,IAAI,GAAG;AACTC,QAAAA,EAAE,EAACF,CAAC,CAACE,EADI;AACDC,QAAAA,OAAO,EAACH,CAAC,CAACG,OADT;AACiBC,QAAAA,IAAI,EAACJ,CAAC,CAACI,IADxB;AAECC,QAAAA,IAAI,EAACL,CAAC,CAACK,IAFR;AAEaC,QAAAA,IAAI,EAACN,CAAC,CAACM,IAFpB;AAEyBC,QAAAA,IAAI,EAACP,CAAC,CAACO,IAFhC;AAEqCC,QAAAA,OAAO,EAACR,CAAC,CAACQ,OAF/C;AAGCC,QAAAA,WAAW,EAACT,CAAC,CAACS,WAHf;AAG2BC,QAAAA,aAAa,EAACV,CAAC,CAACU,aAH3C;AAICC,QAAAA,KAAK,EAACX,CAAC,CAACW,KAJT;AAIeC,QAAAA,QAAQ,EAACZ,CAAC,CAACY;AAJ1B,OAAX;AAOAC,MAAAA,OAAO,CAACC,GAAR,CAAa,OAAOb,IAApB,EAA0Bc,MAAM,CAACd,IAAD,CAAhC,EAfF,CAiBE;;AACA,+BACON,KADP;AAEIG,QAAAA,IAAI,EAAGH,KAAK,CAACG,IAAN,sBAAiB,IAAIkB,GAAJ,CAAQ,6BAAIrB,KAAK,CAACG,IAAV,IAAgBG,IAAhB,GAAsBgB,GAAtB,CAA0B,UAAAC,CAAC;AAAA,iBAAIA,CAAJ;AAAA,SAA3B,CAAR,CAAjB,IAA+D,CAACjB,IAAD;AAF1E;;AAIF;AACI,aAAON,KAAP;AA7BR;AA+BH","sourcesContent":["export default function cart(state, action) {\n    switch (action.type) {\n        case 'SET_CART':\n            return {\n                ...state,\n                list:  action.payload.list,\n            }\n        case 'UPDATE_CART':\n\n          //let prod = JSON.stringify(action.payload.list)\n          //let prod = action.payload.list.id //action.payload.list.id\n\n          //JSON.stringify(action.payload.list); //action.payload.list.id\n\n          let p = action.payload.list\n          let prod = {\n            id:p.id,network:p.network,code:p.code,\n                      name:p.name,slug:p.slug,lang:p.lang,country:p.country,\n                      category_id:p.category_id,category_name:p.category_name,\n                      price:p.price,oldprice:p.oldprice\n                    }\n\n          console.log( typeof prod, escape(prod) );\n\n          // https://stackoverflow.com/questions/41364383/remove-duplicates-form-an-array/41364495\n          return {\n              ...state,\n              list : state.list ? [...new Set([...state.list, prod].map(a => a))] : [prod]\n          }\n        default:\n            return state;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}