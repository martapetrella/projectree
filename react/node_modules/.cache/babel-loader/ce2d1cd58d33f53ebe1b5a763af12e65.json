{"ast":null,"code":"import _classCallCheck from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wefed01/Sites/affx/public_html/react/src/templates/index.js\";\nimport React from 'react';\nimport { connect } from \"react-redux\";\nimport Header from './parts/Header/';\nimport Footer from './parts/Footer/';\nimport { f_class } from \"helpers/formatter\";\nimport { cookiesInit } from \"helpers/cookies\";\nimport { setCookie } from \"helpers/cookies\"; // DECORATOR\n// ES: https://benmccormick.org/2019/02/11/reusable-react\n\nvar withTemplate = function withTemplate(WrappedComponent) {\n  var ComponentWithCounter =\n  /*#__PURE__*/\n  function (_React$Component) {\n    _inherits(ComponentWithCounter, _React$Component);\n\n    function ComponentWithCounter() {\n      _classCallCheck(this, ComponentWithCounter);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(ComponentWithCounter).apply(this, arguments));\n    }\n\n    _createClass(ComponentWithCounter, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        // porto in alto lo scroll ad ogni cambio pagina\n        window.scrollTo(0, 0);\n        cookiesInit(this.props);\n      }\n    }, {\n      key: \"componentWillReceiveProps\",\n      value: function componentWillReceiveProps(nextProps) {\n        // nel momento in cui lo stato del cart  viene aggiornato, vai ad aggiornare anche il cookie\n        var stateCart = nextProps.cart; // se sono diversi, aggiorna il cookie con ciò che ho nello stato\n\n        setCookie('cart', stateCart);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _this$props = this.props,\n            fullwidth = _this$props.fullwidth,\n            className = _this$props.className;\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32\n          },\n          __self: this\n        }, React.createElement(\"section\", {\n          className: \"t-template \" + (!!fullwidth ? ' t-template--fullwidth' : '') + f_class(className),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }, React.createElement(Header, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        }), !fullwidth, React.createElement(\"div\", {\n          className: \"main-container \" + (!fullwidth ? 'container px-3 pt-4 pb-3' : 'px-0'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }, React.createElement(WrappedComponent, Object.assign({}, this.props, this.callbacks, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }))), React.createElement(\"hr\", {\n          className: \"mt-3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }), React.createElement(Footer, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        })));\n      }\n    }]);\n\n    return ComponentWithCounter;\n  }(React.Component); //return ComponentWithCounter;\n\n\n  var mapStateToProps = function mapStateToProps(state) {\n    var cart = state.cart;\n    return {\n      cart: cart\n    };\n  };\n\n  return connect(mapStateToProps)(ComponentWithCounter);\n};\n\nexport default withTemplate;","map":{"version":3,"sources":["/Users/wefed01/Sites/affx/public_html/react/src/templates/index.js"],"names":["React","connect","Header","Footer","f_class","cookiesInit","setCookie","withTemplate","WrappedComponent","ComponentWithCounter","window","scrollTo","props","nextProps","stateCart","cart","fullwidth","className","callbacks","Component","mapStateToProps","state"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SAASC,OAAT,QAAwB,mBAAxB;AACA,SAASC,WAAT,QAA4B,iBAA5B;AAGA,SAAUC,SAAV,QAA2B,iBAA3B,C,CAIA;AACA;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAAC,gBAAgB,EAAI;AAAA,MAChCC,oBADgC;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,0CAEhB;AAClB;AACAC,QAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACAN,QAAAA,WAAW,CAAC,KAAKO,KAAN,CAAX;AACD;AANmC;AAAA;AAAA,gDAOVC,SAPU,EAOC;AACnC;AACA,YAAIC,SAAS,GAAGD,SAAS,CAACE,IAA1B,CAFmC,CAGnC;;AACAT,QAAAA,SAAS,CAAC,MAAD,EAASQ,SAAT,CAAT;AACD;AAZmC;AAAA;AAAA,+BAa3B;AAAA,0BAC0B,KAAKF,KAD/B;AAAA,YACCI,SADD,eACCA,SADD;AAAA,YACYC,SADZ,eACYA,SADZ;AAEL,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAS,UAAA,SAAS,EAAE,iBAAgB,CAAC,CAACD,SAAF,GAAc,wBAAd,GAAyC,EAAzD,IAA8DZ,OAAO,CAACa,SAAD,CAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,EAEG,CAACD,SAFJ,EAGE;AAAK,UAAA,SAAS,EAAE,qBAAoB,CAACA,SAAD,GAAa,0BAAb,GAA0C,MAA9D,CAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEE,oBAAC,gBAAD,oBAAsB,KAAKJ,KAA3B,EAAsC,KAAKM,SAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFF,CAHF,EAOE;AAAI,UAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAPF,EAQE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UARF,CADF,CADF;AAcH;AA7BmC;;AAAA;AAAA,IACHlB,KAAK,CAACmB,SADH,GA+BvC;;;AACA,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAAA,QACzBN,IADyB,GAChBM,KADgB,CACzBN,IADyB;AAEjC,WAAO;AACLA,MAAAA,IAAI,EAAJA;AADK,KAAP;AAGD,GALD;;AAMA,SAAOd,OAAO,CAACmB,eAAD,CAAP,CAA0BX,oBAA1B,CAAP;AAED,CAxCD;;AA0CA,eAAeF,YAAf","sourcesContent":["import React from 'react'\nimport { connect } from \"react-redux\"\nimport Header from './parts/Header/'\nimport Footer from './parts/Footer/'\nimport { f_class } from \"helpers/formatter\"\nimport { cookiesInit } from \"helpers/cookies\"\n\n\nimport {  setCookie } from \"helpers/cookies\"\n\n\n\n// DECORATOR\n// ES: https://benmccormick.org/2019/02/11/reusable-react\n\nconst withTemplate = WrappedComponent => {\n   class ComponentWithCounter extends React.Component {\n     componentDidMount() {\n       // porto in alto lo scroll ad ogni cambio pagina\n       window.scrollTo(0, 0);\n       cookiesInit(this.props)\n     }\n     componentWillReceiveProps(nextProps) {\n       // nel momento in cui lo stato del cart  viene aggiornato, vai ad aggiornare anche il cookie\n       let stateCart = nextProps.cart\n       // se sono diversi, aggiorna il cookie con ciò che ho nello stato\n       setCookie('cart', stateCart )\n     }\n     render() {\n       const { fullwidth, className } = this.props\n         return (\n           <div>\n             <section className={\"t-template \"+( !!fullwidth ? ' t-template--fullwidth' : '' )+f_class(className)}>\n               <Header />\n               {!fullwidth}\n               <div className={\"main-container \"+( !fullwidth ? 'container px-3 pt-4 pb-3' : 'px-0' )}>\n                 {/*this.props.children*/}\n                 <WrappedComponent {...this.props} {...this.callbacks} />\n               </div>\n               <hr className=\"mt-3\" />\n               <Footer />\n             </section>\n          </div>\n         )\n     }\n  }\n  //return ComponentWithCounter;\n  const mapStateToProps = (state) => {\n    const { cart } = state\n    return {\n      cart\n    }\n  }\n  return connect(mapStateToProps)( ComponentWithCounter );\n\n};\n\nexport default withTemplate\n"]},"metadata":{},"sourceType":"module"}