{"ast":null,"code":"import axios from 'axios';\nvar REACT_APP_API = process.env.REACT_APP_API;\nexport function setLoading(status) {\n  return {\n    type: 'SET_LOADING',\n    status: status\n  };\n}\nexport function setLang(lang) {\n  return {\n    type: 'SET_LANG',\n    payload: {\n      lang: lang\n    }\n  };\n}\nexport function setTracker(tracker) {\n  return {\n    type: 'SET_TRACKID',\n    payload: {\n      tracker: tracker\n    }\n  };\n}\nexport function fetchProds(lang, cat) {\n  var langQuery = lang !== undefined && lang !== '' ? '&lang=' + lang : '';\n  var catQuery = cat !== undefined && cat !== '' ? '&cat=' + cat : '';\n  var apiUrl = REACT_APP_API + 'product/read.php?' + langQuery + catQuery;\n  return function (dispatch, getState) {\n    axios.get(apiUrl).then(function (resp) {\n      dispatch({\n        type: 'SET_PRODS',\n        payload: {\n          list: resp.data.records,\n          error: resp.data.error,\n          loading: false\n        }\n      });\n    }, function (error) {\n      dispatch({\n        type: 'SET_PRODS',\n        payload: {\n          list: [],\n          error: 'error',\n          loading: false\n        }\n      });\n    });\n  };\n}\nexport function fetchProd(prodId) {\n  var apiUrl = REACT_APP_API + 'product/read_one.php?id=' + prodId;\n  return function (dispatch, getState) {\n    axios.get(apiUrl).then(function (resp) {\n      dispatch({\n        type: 'SET_PROD',\n        payload: {\n          list: resp.data.record,\n          error: resp.data.error,\n          loading: false\n        }\n      });\n    }, function (error) {\n      dispatch({\n        type: 'SET_PROD',\n        payload: {\n          list: [],\n          error: 'error',\n          loading: false\n        }\n      });\n    });\n  };\n}\nexport function fetchCategs() {\n  var apiUrl = REACT_APP_API + 'category/read.php';\n  return function (dispatch, getState) {\n    axios.get(apiUrl).then(function (resp) {\n      dispatch({\n        type: 'SET_CATEGORIES_LIST',\n        payload: {\n          list: resp.data.records\n        }\n      });\n    }, function (error) {\n      dispatch({\n        type: 'SET_CATEGORIES_LIST',\n        payload: {\n          list: []\n        }\n      });\n    });\n  };\n}\nexport function fetchCart(prod_list) {\n  return function (dispatch, getState) {\n    dispatch({\n      type: 'SET_CART',\n      payload: {\n        list: prod_list\n      }\n    });\n  };\n}\nexport function addToCart(prod) {\n  return function (dispatch, getState) {\n    dispatch({\n      type: 'ADD_TO_CART',\n      payload: {\n        list: prod\n      }\n    });\n  };\n}\nexport function removeToCart(prod, index) {\n  return function (dispatch, getState) {\n    dispatch({\n      type: 'REMOVE_TO_CART',\n      payload: {\n        list: prod,\n        index: index\n      }\n    });\n  };\n}\nexport function fetchUser(prod_list) {\n  return function (dispatch, getState) {\n    dispatch({\n      type: 'SET_CART',\n      payload: {\n        list: prod_list\n      }\n    });\n  };\n}","map":{"version":3,"sources":["/Users/wefed01/Sites/affx/public_html/react/src/state/actions.js"],"names":["axios","REACT_APP_API","process","env","setLoading","status","type","setLang","lang","payload","setTracker","tracker","fetchProds","cat","langQuery","undefined","catQuery","apiUrl","dispatch","getState","get","then","resp","list","data","records","error","loading","fetchProd","prodId","record","fetchCategs","fetchCart","prod_list","addToCart","prod","removeToCart","index","fetchUser"],"mappings":"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","sourcesContent":["import axios from 'axios'\n\nconst { REACT_APP_API } = process.env\n\nexport function setLoading(status) {\n    return {\n      type: 'SET_LOADING',\n      status\n    }\n}\n\nexport function setLang(lang) {\n  return {\n    type: 'SET_LANG',\n    payload: {\n      lang\n    }\n  }\n}\n\nexport function setTracker(tracker) {\n  return {\n    type: 'SET_TRACKID',\n    payload: {\n      tracker\n    }\n  }\n}\n\nexport function fetchProds(lang,cat) {\n  const langQuery = ( lang !== undefined && lang !== '' ) ? '&lang='+lang : ''\n  const catQuery = ( cat !== undefined && cat !== '' ) ? '&cat='+cat : ''\n  const apiUrl = REACT_APP_API+'product/read.php?'+langQuery+catQuery;\n  return (dispatch, getState) => {\n    axios.get(apiUrl).then((resp) => {\n        dispatch({\n            type: 'SET_PRODS',\n            payload: {\n              list: resp.data.records,\n              error: resp.data.error,\n              loading: false\n            }\n        });\n    }, error => {\n      dispatch({\n          type: 'SET_PRODS',\n          payload: {\n              list: [],\n              error: 'error',\n              loading: false\n          }\n      });\n    })\n  };\n}\n\nexport function fetchProd(prodId) {\n  const apiUrl = REACT_APP_API+'product/read_one.php?id='+prodId;\n  return (dispatch, getState) => {\n    axios.get(apiUrl).then((resp) => {\n        dispatch({\n            type: 'SET_PROD',\n            payload: {\n              list: resp.data.record,\n              error: resp.data.error,\n              loading: false\n            }\n        })\n    }, error => {\n      dispatch({\n          type: 'SET_PROD',\n          payload: {\n              list: [],\n              error: 'error',\n              loading: false\n          }\n      })\n    })\n  }\n}\n\nexport function fetchCategs() {\n  const apiUrl = REACT_APP_API+'category/read.php';\n  return (dispatch, getState) => {\n    axios.get(apiUrl).then((resp) => {\n        dispatch({\n            type: 'SET_CATEGORIES_LIST',\n            payload: {\n              list: resp.data.records\n            }\n        })\n    }, error => {\n      dispatch({\n          type: 'SET_CATEGORIES_LIST',\n          payload: {\n              list: []\n          }\n      })\n    })\n  }\n}\n\nexport function fetchCart(prod_list) {\n  return (dispatch, getState) => {\n    dispatch({\n        type: 'SET_CART',\n        payload: {\n          list: prod_list\n        }\n    })\n  }\n}\n\nexport function addToCart(prod) {\n  return (dispatch, getState) => {\n    dispatch({\n        type: 'ADD_TO_CART',\n        payload: {\n          list: prod\n        }\n    })\n  }\n}\n\nexport function removeToCart(prod,index) {\n  return (dispatch, getState) => {\n    dispatch({\n        type: 'REMOVE_TO_CART',\n        payload: {\n          list: prod,\n          index\n        }\n    })\n  }\n}\n\nexport function fetchUser(prod_list) {\n  return (dispatch, getState) => {\n    dispatch({\n        type: 'SET_CART',\n        payload: {\n          list: prod_list\n        }\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}