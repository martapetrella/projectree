{"ast":null,"code":"import _toConsumableArray from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/wefed01/Sites/affx/public_html/react/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nexport default function cart(state, action) {\n  var p = action.payload.list;\n  var prod = {\n    id: p.id,\n    network: p.network,\n    code: p.code,\n    name: p.name,\n    slug: p.slug,\n    lang: p.lang,\n    country: p.country,\n    currency: p.currency,\n    price: p.price,\n    oldprice: p.oldprice\n  };\n\n  switch (action.type) {\n    case 'SET_CART':\n      return _objectSpread({}, state, {\n        list: action.payload.list\n      });\n\n    case 'ADD_TO_CART':\n      var _prod = {\n        id: _p.id,\n        network: _p.network,\n        code: _p.code,\n        name: _p.name,\n        slug: _p.slug,\n        lang: _p.lang,\n        country: _p.country,\n        currency: _p.currency,\n        price: _p.price,\n        oldprice: _p.oldprice // https://stackoverflow.com/questions/41364383/remove-duplicates-form-an-array/41364495\n\n      };\n      return _objectSpread({}, state, {\n        list: state.list ? _toConsumableArray(new Set([].concat(_toConsumableArray(state.list), [_prod]).map(function (a) {\n          return a;\n        }))) : [_prod]\n      });\n\n    case 'REMOVE_TO_CART':\n      var _p = action.payload.list; // https://stackoverflow.com/questions/41364383/remove-duplicates-form-an-array/41364495\n\n      return _objectSpread({}, state, {\n        list: state.list ? _toConsumableArray(new Set([].concat(_toConsumableArray(state.list), [_prod]).map(function (a) {\n          return a;\n        }))) : [_prod]\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/wefed01/Sites/affx/public_html/react/src/state/reducers/cart.js"],"names":["cart","state","action","p","payload","list","prod","id","network","code","name","slug","lang","country","currency","price","oldprice","type","Set","map","a"],"mappings":";;AAAA,eAAe,SAASA,IAAT,CAAcC,KAAd,EAAqBC,MAArB,EAA6B;AAC1C,MAAIC,CAAC,GAAGD,MAAM,CAACE,OAAP,CAAeC,IAAvB;AACA,MAAIC,IAAI,GAAG;AAAEC,IAAAA,EAAE,EAACJ,CAAC,CAACI,EAAP;AAAWC,IAAAA,OAAO,EAACL,CAAC,CAACK,OAArB;AAA8BC,IAAAA,IAAI,EAACN,CAAC,CAACM,IAArC;AAA2CC,IAAAA,IAAI,EAACP,CAAC,CAACO,IAAlD;AAAwDC,IAAAA,IAAI,EAACR,CAAC,CAACQ,IAA/D;AACEC,IAAAA,IAAI,EAACT,CAAC,CAACS,IADT;AACcC,IAAAA,OAAO,EAACV,CAAC,CAACU,OADxB;AACiCC,IAAAA,QAAQ,EAACX,CAAC,CAACW,QAD5C;AACsDC,IAAAA,KAAK,EAACZ,CAAC,CAACY,KAD9D;AACqEC,IAAAA,QAAQ,EAACb,CAAC,CAACa;AADhF,GAAX;;AAEA,UAAQd,MAAM,CAACe,IAAf;AACI,SAAK,UAAL;AACI,+BACOhB,KADP;AAEII,QAAAA,IAAI,EAAGH,MAAM,CAACE,OAAP,CAAeC;AAF1B;;AAIJ,SAAK,aAAL;AACE,UAAIC,KAAI,GAAG;AAAEC,QAAAA,EAAE,EAACJ,EAAC,CAACI,EAAP;AAAWC,QAAAA,OAAO,EAACL,EAAC,CAACK,OAArB;AAA8BC,QAAAA,IAAI,EAACN,EAAC,CAACM,IAArC;AAA2CC,QAAAA,IAAI,EAACP,EAAC,CAACO,IAAlD;AAAwDC,QAAAA,IAAI,EAACR,EAAC,CAACQ,IAA/D;AACEC,QAAAA,IAAI,EAACT,EAAC,CAACS,IADT;AACcC,QAAAA,OAAO,EAACV,EAAC,CAACU,OADxB;AACiCC,QAAAA,QAAQ,EAACX,EAAC,CAACW,QAD5C;AACsDC,QAAAA,KAAK,EAACZ,EAAC,CAACY,KAD9D;AACqEC,QAAAA,QAAQ,EAACb,EAAC,CAACa,QADhF,CAEX;;AAFW,OAAX;AAGA,+BACOf,KADP;AAEII,QAAAA,IAAI,EAAGJ,KAAK,CAACI,IAAN,sBAAiB,IAAIa,GAAJ,CAAQ,6BAAIjB,KAAK,CAACI,IAAV,IAAgBC,KAAhB,GAAsBa,GAAtB,CAA0B,UAAAC,CAAC;AAAA,iBAAIA,CAAJ;AAAA,SAA3B,CAAR,CAAjB,IAA+D,CAACd,KAAD;AAF1E;;AAIF,SAAK,gBAAL;AACE,UAAIH,EAAC,GAAGD,MAAM,CAACE,OAAP,CAAeC,IAAvB,CADF,CAGE;;AACA,+BACOJ,KADP;AAEII,QAAAA,IAAI,EAAGJ,KAAK,CAACI,IAAN,sBAAiB,IAAIa,GAAJ,CAAQ,6BAAIjB,KAAK,CAACI,IAAV,IAAgBC,KAAhB,GAAsBa,GAAtB,CAA0B,UAAAC,CAAC;AAAA,iBAAIA,CAAJ;AAAA,SAA3B,CAAR,CAAjB,IAA+D,CAACd,KAAD;AAF1E;;AAIF;AACI,aAAOL,KAAP;AAvBR;AAyBD","sourcesContent":["export default function cart(state, action) {\n  let p = action.payload.list\n  let prod = { id:p.id, network:p.network, code:p.code, name:p.name, slug:p.slug,\n               lang:p.lang,country:p.country, currency:p.currency, price:p.price, oldprice:p.oldprice }\n  switch (action.type) {\n      case 'SET_CART':\n          return {\n              ...state,\n              list:  action.payload.list,\n          }\n      case 'ADD_TO_CART':\n        let prod = { id:p.id, network:p.network, code:p.code, name:p.name, slug:p.slug,\n                     lang:p.lang,country:p.country, currency:p.currency, price:p.price, oldprice:p.oldprice }\n        // https://stackoverflow.com/questions/41364383/remove-duplicates-form-an-array/41364495\n        return {\n            ...state,\n            list : state.list ? [...new Set([...state.list, prod].map(a => a))] : [prod]\n        }\n      case 'REMOVE_TO_CART':\n        let p = action.payload.list\n\n        // https://stackoverflow.com/questions/41364383/remove-duplicates-form-an-array/41364495\n        return {\n            ...state,\n            list : state.list ? [...new Set([...state.list, prod].map(a => a))] : [prod]\n        }\n      default:\n          return state;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}